<div style="max-width:600px;margin:40px auto;font-family:Arial">
  <h2>创建账号</h2>

  <div style="margin:12px 0;">
    <label>角色</label>
    <select [(ngModel)]="role" style="width:100%; padding:8px;">
      <option value="STUDENT">学生</option>
      <option value="TEACHER">教师</option>
    </select>
  </div>

  <div style="margin:12px 0;">
    <label>用户名</label>
    <input [(ngModel)]="username" style="width:100%; padding:8px;" />
  </div>

  <div style="margin:12px 0;">
    <label>密码</label>
    <input [(ngModel)]="password" type="password" style="width:100%; padding:8px;" />
  </div>

  <div style="margin:12px 0;">
    <label>确认密码</label>
    <input [(ngModel)]="confirmPassword" type="password" style="width:100%; padding:8px;" />
  </div>

  @if (role === 'STUDENT') {
    <h3 style="margin-top:18px;">学生信息</h3>

    <div style="margin:12px 0;">
      <label>名</label>
      <input [(ngModel)]="firstName" style="width:100%; padding:8px;" />
    </div>

    <div style="margin:12px 0;">
      <label>姓</label>
      <input [(ngModel)]="lastName" style="width:100%; padding:8px;" />
    </div>

    <div style="margin:12px 0;">
      <label>常用名</label>
      <input [(ngModel)]="preferredName" style="width:100%; padding:8px;" />
    </div>
  } @else {
    <h3 style="margin-top:18px;">教师信息</h3>

    <div style="margin:12px 0;">
      <label>显示名称</label>
      <input [(ngModel)]="displayName" style="width:100%; padding:8px;" />
    </div>
  }

  <button (click)="submit()" [disabled]="loading"
          style="padding:10px 14px; margin-top:12px;">
    {{ loading ? '注册中...' : '创建账号' }}
  </button>

  @if (error) {
    <p style="color:red; margin-top:12px;">{{ error }}</p>
  }

  <p style="margin-top:16px;">
    已有账号？
    <a routerLink="/login">去登录</a>
  </p>
</div>
